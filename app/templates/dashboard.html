{% extends "layout.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container">
    <h2>{{ session.username }}'s Dashboard</h2>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <p>Welcome to your personal dashboard.</p>
    
    <hr style="border-color: var(--border-color); margin: 2rem 0;">

    {% if session.user_type == 'professional' %}
        <h4>Professional Tools</h4>
        <p>Manage your business and connect with clients.</p>
        <a href="{{ url_for('manage_profile') }}" style="color: var(--primary-color);">Manage Your Profile</a>
        <a href="{{ url_for('view_profile', username=session.username) }}" style="color: var(--primary-color);">View Public Profile</a>
    {% else %}
        <h4>Client Tools</h4>
        <p>Find the best beauty services near you.</p>
        <p><i>(Search features coming soon)</i></p>
    {% endif %}

    <hr style="border-color: var(--border-color); margin: 2rem 0;">
    
    <a href="{{ url_for('logout') }}" style="color: #E57373;">Logout</a>
</div>
{% endblock %}